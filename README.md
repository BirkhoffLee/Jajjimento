# Jajjimento

Jajjimento（ジャッジメント）中文涵意是風紀委員，這是用來驗證表單的 PHP 類別，

用法簡單，你甚至可以先將設定存至檔案，假若要重複使用該規則，只需要幾條指令。

和以往的版本不同，這次比較偏向物件導向方式。

## 舉例

這次的舉例，採用的是多數的情況，你可能會想檢查你接收的 $_POST 表單，你就應該這樣做：

```php
/** 設定要檢查的來源為 $_POST 陣列 */
$jaji->source($_POST)

     /** 稍後會提及如何設定規則 */
     ->add('username')->type('length')->min(3)->max(16)->required()

     /** 一旦設定都好了，接下來就該檢查了！ */
     ->check();
```

## 設置來源

在風紀委員中，你有兩種來源可以選擇，一個是「來源」，另一個則是「手動」。

* 來源 － 可以是 `$_POST` 或 `$_GET`，甚至是一個*陣列*。
* 手動 － 當你的來源不固定，或者來源是一個變數而非陣列，就應該採用手動。

### 來源模式

若你要檢查一個陣列中的資料，你就應該用 `source()` 啟用來源模式。

在這裡以檢查一個 $_POST 表單為例：

```php
$jaji->source($_POST)
     ->add('欄位名稱')   // 假設欄位名稱是 username，那麼你就會檢查 $_POST['username']。
```

### 手動模式

今天如果你並沒有陣列要檢查，而是想直接檢查一個變數，則是 `manual()`。

```php
$jaji->manual()
     ->add($Test)   // 在這個情況，$Test 會直接成為來源，該變數的內容會被檢查。
```

&nbsp;

## 種類

透過 `type()` 來設定一個規則要檢查的種類，下列是目前可用的種類:

| 種類英文   |   簡短    |        相關函式      |                                    種類說明                                |
| ---------- | --------- | -------------------- | -------------------------------------------------------------------------- |
| length     | 長度      |  `min()`, `max()`    | 字串長度；字串必須短於 `max()`，也至少長於 `min()` 所設定的值。            |
| range      | 範圍      |  `min()`, `max()`    | 數字範圍；數字必須小於 `max()`，也至少大於 `min()` 所設定的值。            |
| date       | 日期      |  `dateFormat()`      | 日期格式；日期必須是 `dateFormat()` 所設定的格式，例如 `YYYY-MM-DD`。      |
| in         | 清單      |  `inside()`, `max()` | 是否存在；這個值必須在 `inside()` 所設定的陣列內。                         |
| email      | 電郵      |                      | 電子信箱；內容必須是符合電子信箱格式。                                     |
| gender     | 性別      |                      | 性別種類；性別必須是 f(emale) 或 m(ale) 或 o(ther)。                       |
| ip         | IP        |                      | IP 地址 ；值必須符合 IPv4 或是 IPv6 的格式。                               |
| ipv4       | IPv4      |                      | IP 地址 ；值必須符合 IPv4 格式。                                           |
| ipv6       | IPv6      |                      | IP 地址 ；值必須符合 IPv6 格式。                                           |
| url        | 網址      |  `urlNot()`          | 網址    ；內容必須是符合一般網址格式，用 `urlNot()` 來新增不允許網址開頭。 |        

