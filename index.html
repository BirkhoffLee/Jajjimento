<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ジャッジメント by TeaMeow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">ジャッジメント</h1>
      <h2 class="project-tagline">風紀委員 - PHP 表單驗證類別。</h2>
      <a href="https://github.com/TeaMeow/Jajjimento" class="btn">View on GitHub</a>
      <a href="https://github.com/TeaMeow/Jajjimento/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/TeaMeow/Jajjimento/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="jajjimento" class="anchor" href="#jajjimento" aria-hidden="true"><span class="octicon octicon-link"></span></a>Jajjimento</h1>

<p>Jajjimento（ジャッジメント）中文涵意是風紀委員，這是用來驗證表單的 PHP 類別，</p>

<p>用法簡單，你甚至可以先儲存設定，假若要重複使用該規則，只需要幾條指令。</p>

<p>和以往的版本不同，這次比較偏向物件導向方式。</p>

<p> </p>

<h2>
<a id="特色" class="anchor" href="#%E7%89%B9%E8%89%B2" aria-hidden="true"><span class="octicon octicon-link"></span></a>特色</h2>

<ol>
<li><p>可以儲存規則供未來重複使用。</p></li>
<li><p>簡單明瞭。</p></li>
<li><p>可以檢查陣列，或是直接檢查變數。</p></li>
<li><p>更具有意義的函式名稱卻又簡短。 </p></li>
<li><p>支援艾拉。</p></li>
</ol>

<p> </p>

<h2>
<a id="索引" class="anchor" href="#%E7%B4%A2%E5%BC%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>索引</h2>

<ol>
<li><p><a href="#%E8%88%89%E4%BE%8B">舉例</a></p></li>
<li>
<p><a href="#%E8%A8%AD%E7%BD%AE%E4%BE%86%E6%BA%90-%E6%88%96-%E6%8E%A1%E7%94%A8%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87">設置來源 或 採用預先規則</a></p>

<ul>
<li><a href="#%E4%BE%86%E6%BA%90%E6%A8%A1%E5%BC%8F">來源模式</a></li>
<li><a href="#%E6%89%8B%E5%8B%95%E6%A8%A1%E5%BC%8F">手動模式</a></li>
<li><a href="#%E6%8E%A1%E7%94%A8%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87">採用預先規則</a></li>
</ul>
</li>
<li>
<p><a href="#%E8%A8%AD%E7%BD%AE%E7%A8%AE%E9%A1%9E">設置種類</a></p>

<ul>
<li><a href="#min-%E5%92%8C-max-%E7%9A%84%E7%94%A8%E6%B3%95"><code>min()</code> 和 <code>max()</code> 的用法</a></li>
<li><a href="#dateformat-%E7%9A%84%E7%94%A8%E6%B3%95"><code>dateFormat()</code> 的用法</a></li>
<li><a href="#inside-%E7%9A%84%E7%94%A8%E6%B3%95"><code>inside()</code> 的用法</a></li>
<li><a href="#urlnot-%E7%9A%84%E7%94%A8%E6%B3%95"><code>urlNot()</code> 的用法</a></li>
<li><a href="#target-%E7%9A%84%E7%94%A8%E6%B3%95"><code>target()</code> 的用法</a></li>
</ul>
</li>
<li>
<p><a href="#%E8%A8%AD%E7%BD%AE%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD">設置附加功能</a></p>

<ul>
<li><a href="#required-%E6%88%96-req-%E7%9A%84%E7%94%A8%E6%B3%95"><code>required()</code> 或 <code>req()</code> 的用法</a></li>
<li><a href="#format-%E7%9A%84%E7%94%A8%E6%B3%95"><code>format()</code> 的用法</a></li>
<li><a href="#trim-%E7%9A%84%E7%94%A8%E6%B3%95"><code>trim()</code> 的用法</a></li>
</ul>
</li>
<li><p><a href="#%E9%A9%97%E8%AD%89">驗證</a></p></li>
<li><p><a href="#%E5%8F%96%E5%BE%97%E9%A9%97%E8%AD%89%E5%BE%8C%E7%9A%84%E8%B3%87%E6%96%99">取得驗證後的資料</a></p></li>
<li><p><a href="#%E5%84%B2%E5%AD%98%E6%88%90%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87">儲存成預先規則</a></p></li>
<li><p><a href="#%E7%95%B6%E8%89%BE%E6%8B%89%E5%AD%98%E5%9C%A8%E7%9A%84%E6%99%82%E5%80%99">當「艾拉」存在的時候</a></p></li>
</ol>

<p> </p>

<h2>
<a id="舉例" class="anchor" href="#%E8%88%89%E4%BE%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>舉例</h2>

<p>這次的舉例，採用的是多數的情況，你可能會想檢查你接收的 $_POST 表單，你就應該這樣做：</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c">/** 設定要檢查的來源為 $_POST 陣列 */</span></span>
<span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>source(<span class="pl-smi">$_POST</span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1">     <span class="pl-c">/** 稍後會提及如何設定規則 */</span></span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>length<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>min(<span class="pl-c1">3</span>)<span class="pl-k">-&gt;</span>max(<span class="pl-c1">16</span>)<span class="pl-k">-&gt;</span>required()</span>
<span class="pl-s1"></span>
<span class="pl-s1">     <span class="pl-c">/** 你也可以用簡寫 */</span></span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>length(<span class="pl-c1">3</span>, <span class="pl-c1">16</span>)<span class="pl-k">-&gt;</span>req()</span>
<span class="pl-s1"></span>
<span class="pl-s1">     <span class="pl-c">/** 一旦設定都好了，接下來就該檢查了！ */</span></span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>check();</span></pre></div>

<p> </p>

<h2>
<a id="設置來源-或-採用預先規則" class="anchor" href="#%E8%A8%AD%E7%BD%AE%E4%BE%86%E6%BA%90-%E6%88%96-%E6%8E%A1%E7%94%A8%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87" aria-hidden="true"><span class="octicon octicon-link"></span></a>設置來源 或 採用預先規則</h2>

<p>在風紀委員中，你有兩種方式可以選擇，讀取預先規則或採用來源模式。</p>

<p>而來源模式分成下列兩種：</p>

<ul>
<li>來源 － 可以是 <code>$_POST</code> 或 <code>$_GET</code>，甚至是一個<em>陣列</em>。</li>
<li>手動 － 當你的來源不固定，或者來源是一個變數而非陣列，就應該採用手動。</li>
</ul>

<p> </p>

<h4>
<a id="來源模式" class="anchor" href="#%E4%BE%86%E6%BA%90%E6%A8%A1%E5%BC%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>來源模式</h4>

<p>若你要檢查一個陣列中的資料，你就應該用 <code>source()</code> 啟用來源模式。</p>

<p>在這裡以檢查一個 $_POST 表單為例：</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>source(<span class="pl-smi">$_POST</span>)</span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>欄位名稱<span class="pl-pds">'</span></span>)   <span class="pl-c">// 假設欄位名稱是 username，那麼你就會檢查 $_POST['username']。</span></span></pre></div>

<p> </p>

<h4>
<a id="手動模式" class="anchor" href="#%E6%89%8B%E5%8B%95%E6%A8%A1%E5%BC%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>手動模式</h4>

<p>今天如果你並沒有陣列要檢查，而是想直接檢查一個變數，</p>

<p><strong>你則不需要設置 <code>source()</code> 而是應該直接進行新增規則的動作。</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>add(<span class="pl-smi">$Test</span>)   <span class="pl-c">// 在這個情況，$Test 會直接成為來源，該變數的內容會被檢查。</span></span></pre></div>

<p> </p>

<h4>
<a id="採用預先規則" class="anchor" href="#%E6%8E%A1%E7%94%A8%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87" aria-hidden="true"><span class="octicon octicon-link"></span></a>採用預先規則</h4>

<p>你可以利用 <code>loadCheck()</code> 直接套用一個你先前儲存的規則並直接檢查，稍後會提及如何儲存一個規則。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>source(<span class="pl-smi">$_POST</span>)</span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>loadCheck(<span class="pl-smi">$rule</span>)   <span class="pl-c">// 接下來會套用 $Rule 內所含有的規則並檢查。</span></span></pre></div>

<p> </p>

<h2>
<a id="設置種類" class="anchor" href="#%E8%A8%AD%E7%BD%AE%E7%A8%AE%E9%A1%9E" aria-hidden="true"><span class="octicon octicon-link"></span></a>設置種類</h2>

<p>透過 <code>type()</code> 來設定一個規則要檢查的種類，如果你嫌這種用法太長，<strong>我們稍後會提及縮寫</strong>，下列是目前可用的種類:</p>

<table>
<thead>
<tr>
<th>種類英文</th>
<th>簡短</th>
<th>相關函式</th>
<th>種類說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>length</td>
<td>長度</td>
<td>
<code>min()</code>, <code>max()</code>
</td>
<td>字串長度；字串必須短於 <code>max()</code>，也至少長於 <code>min()</code> 所設定的值。</td>
</tr>
<tr>
<td>range</td>
<td>範圍</td>
<td>
<code>min()</code>, <code>max()</code>
</td>
<td>數字範圍；數字必須小於 <code>max()</code>，也至少大於 <code>min()</code> 所設定的值。</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
<td><code>dateFormat()</code></td>
<td>日期格式；日期必須是 <code>dateFormat()</code> 所設定的格式，例如 <code>YYYY-MM-DD</code>。</td>
</tr>
<tr>
<td>in</td>
<td>清單</td>
<td><code>inside()</code></td>
<td>是否存在；這個值必須在 <code>inside()</code> 所設定的陣列內。</td>
</tr>
<tr>
<td>email</td>
<td>電郵</td>
<td></td>
<td>電子信箱；內容必須是符合電子信箱格式。</td>
</tr>
<tr>
<td>gender</td>
<td>性別</td>
<td></td>
<td>性別種類；性別必須是 f(emale) 或 m(ale) 或 o(ther)。</td>
</tr>
<tr>
<td>ip</td>
<td>IP</td>
<td></td>
<td>IP 地址 ；值必須符合 IPv4 或是 IPv6 的格式。</td>
</tr>
<tr>
<td>ipv4</td>
<td>IPv4</td>
<td></td>
<td>IP 地址 ；值必須符合 IPv4 格式。</td>
</tr>
<tr>
<td>ipv6</td>
<td>IPv6</td>
<td></td>
<td>IP 地址 ；值必須符合 IPv6 格式。</td>
</tr>
<tr>
<td>url</td>
<td>網址</td>
<td><code>urlNot()</code></td>
<td>網址    ；內容必須是符合一般網址格式，用 <code>urlNot()</code> 來新增不允許網址開頭。</td>
</tr>
<tr>
<td>equals</td>
<td>等於</td>
<td><code>target()</code></td>
<td>相同內容；內容必須與 <code>target()</code> 的內容相同。</td>
</tr>
</tbody>
</table>

<p> </p>

<h5>
<a id="min-和-max-的用法" class="anchor" href="#min-%E5%92%8C-max-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>min()</code> 和 <code>max()</code> 的用法</h5>

<p>長度或數字必須大於 <code>min()</code> ，且小於或短於 <code>max()</code> 所設定的值。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>length<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>min(<span class="pl-c1">3</span>)<span class="pl-k">-&gt;</span>max(<span class="pl-c1">6</span>)</span></pre></div>

<p> </p>

<h5>
<a id="dateformat-的用法" class="anchor" href="#dateformat-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>dateFormat()</code> 的用法</h5>

<p><code>dateFormat()</code> 用來設定什麼日期格式可以被接受，</p>

<p>可以是單一個格式，或是一整個陣列，日期格式為 <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>，</p>

<p>簡單說就是你在 PHP 中常見的「YYYY-mm-dd」或「dd/mm/YYYY」之類。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>date<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>dateFormat(<span class="pl-s"><span class="pl-pds">'</span>YYYY-mm-dd<span class="pl-pds">'</span></span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 或是 */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>birthday<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>date<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>dateFormat([<span class="pl-s"><span class="pl-pds">'</span>YYYY-mm-dd<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mm/dd/YYYY<span class="pl-pds">'</span></span>])</span></pre></div>

<p> </p>

<h5>
<a id="inside-的用法" class="anchor" href="#inside-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>inside()</code> 的用法</h5>

<p>必須在 <code>inside()</code> 所指定陣列中找的到這個值。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>options<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>in<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>inside([<span class="pl-s"><span class="pl-pds">'</span>A<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>B<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>C<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>D<span class="pl-pds">'</span></span>])</span></pre></div>

<p> </p>

<h5>
<a id="urlnot-的用法" class="anchor" href="#urlnot-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>urlNot()</code> 的用法</h5>

<p>網址不可以是以什麼開頭的，例如 <code>http</code> 或 <code>https</code>，設定可以是單一個，或是陣列。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>urlNot(<span class="pl-s"><span class="pl-pds">'</span>ftp<span class="pl-pds">'</span></span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 或是 */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>urlNot([<span class="pl-s"><span class="pl-pds">'</span>http<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>https<span class="pl-pds">'</span></span>])</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 你也可以 */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>urlNot([<span class="pl-s"><span class="pl-pds">'</span>http://www.google.com/<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>http://www.yahoo.com/<span class="pl-pds">'</span></span>])</span></pre></div>

<p> </p>

<h5>
<a id="target-的用法" class="anchor" href="#target-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>target()</code> 的用法</h5>

<p>必須在 <code>target()</code> 中的內容一樣。需要注意的是：</p>

<p><strong>無論是來源或是手動模式中，<code>target()</code> 帶入的是欄位名稱，而不是變數。</strong></p>

<p><strong>但是如果你帶入一個變數，則將第二個參數設為 False 。</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>passwordConfirm<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>equals<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>target(<span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 倘若你要帶入一個變數，將後面設為 False */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>passwordConfirm<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>equals<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>target(<span class="pl-smi">$OriginalPassword</span>, <span class="pl-c1">false</span>)</span></pre></div>

<p> </p>

<h3>
<a id="設置種類的簡寫" class="anchor" href="#%E8%A8%AD%E7%BD%AE%E7%A8%AE%E9%A1%9E%E7%9A%84%E7%B0%A1%E5%AF%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>設置種類的簡寫</h3>

<p>在你使用簡寫的時候，可能會發現有些函式與 PHP 內建的重複，但這是不會發生問題的。</p>

<table>
<thead>
<tr>
<th>種類英文</th>
<th>簡短</th>
<th>簡寫</th>
</tr>
</thead>
<tbody>
<tr>
<td>length</td>
<td>長度</td>
<td><code>length(min, max)</code></td>
</tr>
<tr>
<td>range</td>
<td>範圍</td>
<td><code>range(min, max)</code></td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
<td><code>date()</code></td>
</tr>
<tr>
<td>in</td>
<td>清單</td>
<td><code>inside(list)</code></td>
</tr>
<tr>
<td>email</td>
<td>電郵</td>
<td><code>email()</code></td>
</tr>
<tr>
<td>gender</td>
<td>性別</td>
<td><code>gender()</code></td>
</tr>
<tr>
<td>ip</td>
<td>IP</td>
<td><code>ip()</code></td>
</tr>
<tr>
<td>ipv4</td>
<td>IPv4</td>
<td><code>ipv4()</code></td>
</tr>
<tr>
<td>ipv6</td>
<td>IPv6</td>
<td><code>ipv6()</code></td>
</tr>
<tr>
<td>url</td>
<td>網址</td>
<td><code>url(urlNot)</code></td>
</tr>
<tr>
<td>equals</td>
<td>相同</td>
<td><code>equals(target, isField)</code></td>
</tr>
</tbody>
</table>

<p> </p>

<p>當你使用簡寫，<code>type()</code> 是不必要的。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>length(<span class="pl-c1">3</span>, <span class="pl-c1">12</span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>range(<span class="pl-c1">1</span>, <span class="pl-c1">99</span>)</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>url()</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>passwordConfirm<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>equals(<span class="pl-smi">$Password</span>, <span class="pl-c1">false</span>)</span></pre></div>

<p> </p>

<h2>
<a id="設置附加功能" class="anchor" href="#%E8%A8%AD%E7%BD%AE%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD" aria-hidden="true"><span class="octicon octicon-link"></span></a>設置附加功能</h2>

<p>附加功能例如「必填項目」，或者是限制內容的格式，例如:「a-Z0-9」，</p>

<p>有的附加功能支援縮寫，而所有的的附加功能都可以用在縮寫的種類上。</p>

<table>
<thead>
<tr>
<th>函式</th>
<th>簡短</th>
<th>簡寫</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>required()</code></td>
<td>必填</td>
<td><code>req()</code></td>
</tr>
<tr>
<td><code>format()</code></td>
<td>格式</td>
<td></td>
</tr>
<tr>
<td><code>trim()</code></td>
<td>清除字尾空白</td>
<td></td>
</tr>
</tbody>
</table>

<p> </p>

<h5>
<a id="required-或-req-的用法" class="anchor" href="#required-%E6%88%96-req-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>required()</code> 或 <code>req()</code> 的用法</h5>

<p>這會讓某個欄位成為必填項目，如果<strong>內容只有空白</strong>，或是<strong>完全沒內容</strong>，就會無法通過，</p>

<p>兩者都是相同的東西，僅是一個縮寫而已。</p>

<p> </p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c">/** 可以用在縮寫種類上 */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>range(<span class="pl-c1">1</span>, <span class="pl-c1">99</span>)<span class="pl-k">-&gt;</span>req()</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 如果你想要讓他完整一點也可以 */</span></span>
<span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>url<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>required()</span></pre></div>

<p> </p>

<h5>
<a id="format-的用法" class="anchor" href="#format-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>format()</code> 的用法</h5>

<p>這會限制內容必須是什麼格式，這個的用法為 <a href="https://en.wikipedia.org/wiki/Regular_expression">正規表達式</a>。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>length(<span class="pl-c1">1</span>, <span class="pl-c1">12</span>)<span class="pl-k">-&gt;</span>format(<span class="pl-s"><span class="pl-pds">'</span>a-Z0-9<span class="pl-pds">'</span></span>)</span></pre></div>

<p> </p>

<h5>
<a id="trim-的用法" class="anchor" href="#trim-%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>trim()</code> 的用法</h5>

<p>移除字尾最後的空白。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>address<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>length(<span class="pl-c1">7</span>, <span class="pl-c1">60</span>)<span class="pl-k">-&gt;</span>trim()</span></pre></div>

<p> </p>

<h2>
<a id="驗證" class="anchor" href="#%E9%A9%97%E8%AD%89" aria-hidden="true"><span class="octicon octicon-link"></span></a>驗證</h2>

<p>一旦你完成了先前的設置，就可以透過 <code>check()</code> 或 <code>loadCheck()</code> 來進行驗證手續。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>check();</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 如果你要讀取設定並驗證的話則是這樣 */</span></span>
<span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>loadCheck(<span class="pl-smi">$myRule</span>);</span></pre></div>

<p> </p>

<h2>
<a id="取得驗證後的資料" class="anchor" href="#%E5%8F%96%E5%BE%97%E9%A9%97%E8%AD%89%E5%BE%8C%E7%9A%84%E8%B3%87%E6%96%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>取得驗證後的資料</h2>

<p>驗證後的資料可能會比較安全一點<em>（我是說，你網站最終被駭入，還是不應該找我，對吧？）</em></p>

<p>你可以透過 <code>safe</code> 來取得一個被驗證後的資料。</p>

<p><strong>請注意：如果這次的驗證是錯誤的，那麼你將會取得到一個空白的陣列，</strong></p>

<p><strong>最好的方法是在驗證錯誤的時候就中止繼續。</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c">/** 先驗證 */</span></span>
<span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>check();</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 然後把這個拿來做後續資料處理 */</span></span>
<span class="pl-s1"><span class="pl-smi">$safe</span> <span class="pl-k">=</span> <span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span><span class="pl-smi">safe</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/** 像這樣 */</span></span>
<span class="pl-s1">foobar(<span class="pl-smi">$safe</span>[<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>]);</span></pre></div>

<p> </p>

<h2>
<a id="儲存成預先規則" class="anchor" href="#%E5%84%B2%E5%AD%98%E6%88%90%E9%A0%90%E5%85%88%E8%A6%8F%E5%89%87" aria-hidden="true"><span class="octicon octicon-link"></span></a>儲存成預先規則</h2>

<p>一旦你完成了設置，你可以選擇不要檢查（也就是不要驗證），而是使用下列方式儲存在一個變數中。</p>

<p><strong>如果你決定要儲存成規則，那麼就請不要指定來源，因為那是無用的。</strong></p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$myRule</span> <span class="pl-k">=</span> <span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>save()</span></pre></div>

<p> </p>

<p>如果你不是很清楚，我們從頭來過，最後採用儲存的方式。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$myRule</span> <span class="pl-k">=</span> <span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>length<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>min(<span class="pl-c1">3</span>)<span class="pl-k">-&gt;</span>max(<span class="pl-c1">32</span>)<span class="pl-k">-&gt;</span>required()<span class="pl-k">-&gt;</span>format(<span class="pl-s"><span class="pl-pds">'</span>a-Z0-9<span class="pl-pds">'</span></span>)</span>
<span class="pl-s1">               <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>age<span class="pl-pds">'</span></span>)     <span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>range<span class="pl-pds">'</span></span>) <span class="pl-k">-&gt;</span>min(<span class="pl-c1">7</span>)<span class="pl-k">-&gt;</span>max(<span class="pl-c1">99</span>)<span class="pl-k">-&gt;</span>required()</span>
<span class="pl-s1">               <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>ip<span class="pl-pds">'</span></span>)      <span class="pl-k">-&gt;</span>type(<span class="pl-s"><span class="pl-pds">'</span>ip<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">               <span class="pl-k">-&gt;</span>save();</span></pre></div>

<p> </p>

<p>接著 <code>$myRule</code> 內就會有一串你剛所儲存的規則，若要使用，請在下次這樣使用：</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span>source(<span class="pl-smi">$_POST</span>)</span>
<span class="pl-s1">     <span class="pl-k">-&gt;</span>loadCheck(<span class="pl-smi">$myRule</span>);</span></pre></div>

<p>如此一來，就會以剛才的規則去檢查 $_POST。</p>

<p> </p>

<h2>
<a id="當艾拉存在的時候" class="anchor" href="#%E7%95%B6%E8%89%BE%E6%8B%89%E5%AD%98%E5%9C%A8%E7%9A%84%E6%99%82%E5%80%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>當「艾拉」存在的時候</h2>

<p>如果你有 <a href="http://github.com/TeaMeow/Aira">艾拉</a> 來協助你處理錯誤，</p>

<p>那麼你應該將此這為 True（預設為 False。）。</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-smi">$jaji</span><span class="pl-k">-&gt;</span><span class="pl-smi">hasAira</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</span></pre></div>

<p>接下來， <code>aira::add('INCORRECT_FORM')</code> 將會在驗證失敗時被呼叫。</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/TeaMeow/Jajjimento">ジャッジメント</a> is maintained by <a href="https://github.com/TeaMeow">TeaMeow</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
